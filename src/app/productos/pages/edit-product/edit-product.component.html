<div class="container mt-5">
  <h2>Editar Producto</h2>
  <form (submit)="guardarCambios()">
    <div class="mb-3 col-md-6">
      <label for="nombre" class="form-label">Nombre del Producto</label>
      <input
        type="text"
        [(ngModel)]="producto.name"
        name="nombre"
        class="form-control"
        id="nombre"
        required
      />
    </div>
    <div class="mb-3 col-md-6">
      <label for="descripcion" class="form-label">Descripción</label>
      <textarea
        [(ngModel)]="producto.description"
        name="descripcion"
        class="form-control"
        id="descripcion"
        required
      ></textarea>
    </div>
    <div class="mb-3 col-md-6">
      <label for="precio">Precio:</label>
      <input
        type="number"
        id="precio"
        name="precio"
        [(ngModel)]="producto.price"
        class="form-control"
        required
        min="0"
      />
      <div *ngIf="producto.price < 0" class="alert alert-danger mt-1">
        El precio no puede ser negativo.
      </div>
    </div>
    <div class="mb-3 col-md-6">
      <label for="quantity">Cantidad:</label>
      <input
        type="number"
        id="cantidad"
        name="cantidad"
        [(ngModel)]="producto.quantity"
        class="form-control"
        required
        min="0"
      />
      <div *ngIf="producto.quantity < 0" class="alert alert-danger mt-1">
        La cantidad no puede ser negativa.
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <div class="card">
            <div class="card-header">Subir Archivo</div>
            <div class="card-body">
              <input
                type="file"
                class="form-control"
                (change)="handleFileInput($event)"
              />
            </div>
          </div>
        </div>
      </div>
      <div class="row mt-4" *ngIf="imageUrl">
        <div class="col-md-6">
          <div class="card">
            <div class="card-header">Imagen Subida</div>
            <div class="card-body">
              <img [src]="imageUrl" alt="Imagen subida" class="img-fluid" />
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="mb-3 col-md-6">
      <label for="categoria" class="form-label">ID de Categoría</label>
      <input
        type="text"
        [(ngModel)]="producto.category.categoryId"
        name="categoria"
        class="form-control"
        id="categoria"
        required
      />
    </div>
    <div class="mb-3 col-md-6">
      <label for="proveedor" class="form-label">ID de Proveedor</label>
      <input
        type="text"
        [(ngModel)]="producto.proveedor.idProveedor"
        name="proveedor"
        class="form-control"
        id="proveedor"
        required
      />
    </div>
    <div class="mb-3 col-md-6">
      <button type="submit" class="btn btn-primary">Guardar Cambios</button>
    </div>
  </form>
</div>
